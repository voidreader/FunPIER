<?xml version="1.0" encoding="utf-8" ?>
<!-- スカイダイビング -->
<kyscript>
  
  <frame count ="0"/>
  <var name="move" op="set" value="0"/>
  <beginSound name="bgm_sky" loop="true"/>

  <useAndShow id ="hito" res ="skydive/skydiveHito" pos ="0,0,2"/>
  <useAndShow id ="omae" res ="skydive/skydiveOmae" pos ="-200,-200,1"/>
  <useAndShow id ="kumo0" res ="mitono/mitonoKumo" pos ="0,140,4"/>
  <beginMove id ="kumo0" to="100,140,4" duration="900"/>
  <useAndShow id ="kumo1" res ="mitono/mitonoKumo" pos ="0,-140,4"/>
  <beginMove id ="kumo1" to="-100,-140,4" duration="900"/>

  <beginDrag id ="omae" rewind ="false" range="-200, -200, 200, 200"/>
  <beginIf id ="goal3" target ="object" trigger="up" name="omae" crange="0,0,399,399" goto ="3000"/>
  <beginIf id ="goal1" target ="object" trigger="up" name="omae" crange="0,-64,32,32" goto ="1000"/>
  <beginIf id ="goal2" target ="object" trigger="up" name="omae" crange="0,0,32,32" goto ="2000"/>

  <beginTimer id ="timer0" duration="600"/>
  <beginIf id="timeout0" target="animend" name ="timer0" goto="6000" priority="1"/>
  <wait />

  <!-- 読めた -->
  <frame count ="1000"/>
  <endIf id ="all"/>
  <unuse id ="timeout0"/>
  <endDrag id ="omae" />
  <beginMove id ="omae" to ="0,-64" duration="60"/>
  <beginSound name="se_move"/>
  <frame count ="1120"/>
  <halt result="1"/>

  <!-- シークレット -->
  <frame count ="2000"/>
  <endIf id ="all"/>
  <unuse id ="timeout0"/>
  <beginMove id ="omae" to ="0,0" duration="60"/>
  <beginSound name="se_move"/>
  <frame count ="2120"/>
  <var name="secret" op="set" value="1"/>
  <halt result="0"/>

  <!-- 読まない -->
  <frame count ="3000"/>
  <var name="move" op="set" value="1"/>
  <wait />

  <!-- 時間切れ -->
  <frame count ="6000"/>
  <endIf id="all"/>
  <unuse id ="timeout0"/>
  <beginIfVar lhs="$move" op="eq" rhs="1" goto="6100"/>
  <halt result="0"/>
  
  <!-- 読まない -->
  <frame count ="6100"/>
  <halt result="2"/>

</kyscript>