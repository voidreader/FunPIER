<?xml version="1.0" encoding="utf-8" ?>
<!-- やさしさ -->
<kyscript>
  
  <frame count ="0"/>
  <var name="funda" op="set" value="0"/>
  <var name="kaeru" op="set" value="0"/>

  <useAndShow id ="ground" res ="gizagiza/gizagizaGround" pos ="0,-90,2"/>
  <useAndShow id ="hana" res ="yasasisa/yasasisaHana" pos ="30,-40,1"/>
  <useAndShow id ="omae" res ="yasasisa/yasasisaOmae" pos ="-280,-35,1"/>

  <!--<frame count ="58" />
  <beginSound name="se_move" loop="true"/>
  <frame count ="59" />
  <endSound name="se_move" />-->
  <frame count ="60" />
  <beginSound name="se_move" loop="true"/>

  <beginMoveEx id ="omae" posAdd ="560,0" duration="480"/>
  <beginIf id ="fumi" target ="object" name ="omae" crange="30,-45,12,24" goto="1000"/>
  <beginIf id="touch0" target="touchaction" direction="0,3" goto="2000"/>
  <beginIf id="touch1" target="touchaction" direction="-10,0" goto="3000"/>

  <beginIf id ="goal0" target ="object" name ="omae" crange="290,-45,12,480" goto="6000"/>
  <beginIf id ="goal1" target ="object" name ="omae" crange="-290,-45,12,480" goto="6000"/>

  <wait />
  
  <!-- ふんだ -->
  <frame count ="1000" />
  <var name="funda" op="set" value="1"/>
  <endIf id ="touch0" />
  <endIf id ="touch1" />
  <beginAnim id ="hana" anim ="1" />
  <beginSound name="se_down" />
  <endMove id ="omae" />
  <beginMoveEx id ="omae" pos ="34,-35" duration="0"/>  
  <beginMoveEx id ="omae" posAdd ="560,0" duration="480"/>  
  <beginAnim id ="omae" anim ="0" />
  <beginSound name="se_move" loop="true"/>
  <wait />

  <!-- 飛翔  -->
  <frame count ="2000" />
  <endIf id ="touch0" />
  <endIf id ="touch1" />
  <endIf id ="fumi" />
  <endSound name ="se_move" fade ="0"/>
  <beginSound name="se_jump" />
  
  <endMove id ="omae" /> 
  <function id ="omae" func ="Jump" />

  <beginAnim id ="omae" anim ="1" />
  <frame count ="2030" />
  <beginAnim id ="omae" anim ="2" />
  <frame count ="2060" />
  <endMove id ="omae" /> 

  <beginMoveEx id ="omae" posAdd ="560,0" duration="480"/> 
  <beginAnim id ="omae" anim ="0" />
  <beginSound name="se_move" loop="true"/>
  <beginIf id="touch0" target="touchaction" direction="0,3" goto="2000"/>
<!--  <beginIf id="touch1" target="touchaction" direction="-10,0" goto="3000"/> -->
  <beginIf id ="fumi" target ="object" name ="omae" crange="30,-45,12,24" goto="1000"/>
  <wait/>

  <!-- 帰る -->
  <frame count ="3000"/>
  <var name="kaeru" op="set" value="1"/>
  <endIf id ="touch0" />
  <endIf id ="touch1" />
  <endMove id ="omae" />
  <beginAnim id ="omae" anim ="3" />
  <beginMoveEx id ="omae" posAdd ="-560,0" duration="320"/>
  <wait />  
  


  <frame count ="6000"/>
  <endIf id="all"/>
  <beginIfVar lhs="$funda" op="eq" rhs="1" goto="6100"/>
  <beginIfVar lhs="$kaeru" op="eq" rhs="1" goto="6200"/>
  <halt result="1"/>

  <frame count ="6100"/>  
  <halt result="0"/>

  <frame count ="6200"/>  
  <var name="secret" op="set" value="1"/>
  <halt result="1"/>
  
</kyscript>